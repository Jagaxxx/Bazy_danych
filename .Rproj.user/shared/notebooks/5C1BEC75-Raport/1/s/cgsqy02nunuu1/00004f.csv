"0","#| echo: false"
"0","#| warning: false"
"0","#| fig.width: 9"
"0","#| fig.height: 7"
"0",""
"0","query_2g <- ""SELECT COUNT(p.id_customer) AS liczba_klientow,"
"0","                 DATE_FORMAT(spf.departure_date, '%Y-%m') AS data"
"0","FROM spaceflight AS spf"
"0","INNER JOIN payment AS p ON spf.id_spaceflight = p.id_spaceflight"
"0","GROUP BY data"
"0","ORDER BY data;"""
"0",""
"0","df <- dbGetQuery(con, query_2g)"
"0",""
"0","df$rok <- as.numeric(substr(df$data, 1, 4))"
"0",""
"0","df$miesiac <- as.numeric(substr(df$data, 6, 7))"
"0",""
"0","ggplot(df, aes(x = data, y = liczba_klientow, fill = as.factor(rok))) + "
"0","  geom_col() + "
"0","  labs(title = ""Liczba klientów według miesiąca"","
"0","       x = ""Rok-miesiąc"","
"0","       y = ""Liczba klientów"","
"0","       fill = ""Rok"") + "
"0","  scale_fill_manual(values = c(""2098"" = ""red"", ""2099"" = ""blue"")) + "
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
